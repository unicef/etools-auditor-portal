<!--import [polymer, lodash]-->

<script>
    'use strict';

    window.APBehaviors = window.APBehaviors || {};
    APBehaviors.ErrorHandlerBehavior = {
        refactorErrorObject: function(errorData) {
            if (!errorData) { return {}; }

            if (!_.isObject(errorData)) { return errorData; }

            if (_.isArray(errorData)) {
                return _.isObject(errorData[0]) && !!errorData[0] ? errorData.map(object => this.refactorErrorObject(object)) :  errorData[0];
            } else {
                _.forOwn(errorData, (value, key) => {
                    errorData[key] = this.refactorErrorObject(value);
                });
                return errorData;
            }

        },
        _checkInvalid: function(value) {
            return !!value;
        }
    };
</script>