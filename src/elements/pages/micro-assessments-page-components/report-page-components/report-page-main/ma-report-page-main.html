<!--import [polymer]-->
<!--import [assign-engagement, key-internal-controls-tab, control-findings-tab, primary-risk-element]-->

<dom-module id="ma-report-page-main">
    <template>
        <assign-engagement
                id="assignEngagement"
                data="{{engagement}}"
                original-data="[[originalData]]"
                error-object="{{errorObject}}"
                audit-type="Micro Assessment"
                base-permission-path="{{permissionBase}}">
        </assign-engagement>

        <template is="dom-if"
                  if="[[engagement.overall_risk_assessment]]">
                <primary-risk-element id="primaryRisk"
                                      risk-data="[[engagement.overall_risk_assessment]]"
                                      dialog-opened="[[riskDialogOpened]]"
                                      error-object="{{errorObject}}"
                                      base-permission-path="{{permissionBase}}">
                </primary-risk-element>
        </template>
        
        <template is="dom-if" if="[[engagement.test_subject_areas]]">
                <key-internal-controls-tab
                        id="internalControls"
                        subject-areas="[[engagement.test_subject_areas]]"
                        dialog-opened="{{riskDialogOpened}}"
                        error-object="{{errorObject}}"
                        base-permission-path="{{permissionBase}}">
                </key-internal-controls-tab>
        </template>

        <control-findings-tab
                id="controlFindings"
                data-items="{{engagement.findings}}"
                error-object="{{errorObject}}"
                base-permission-path="{{permissionBase}}">
        </control-findings-tab>
    </template>

    <!-- inject scripts './ma-report-page-main.js'-->
</dom-module>
