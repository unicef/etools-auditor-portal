<!--import [polymer, etools-content-panel, etools-searchable-multiselection-menu, paper-input/paper-textarea, lodash,
            textarea-max-rows-behavior, common-methods-behavior, static-data-behavior]-->

<dom-module id="primary-risk-element">
    <template>
        <style include="tab-inputs-styles module-styles">
            etools-content-panel.overal-risks {
                margin: 20px 0;

                --ecp-header-title: #{'{
                    font-weight: 500;
                    line-height: 51px;
                }'};

                --epc-toolbar: #{'{
                    height: 51px;
                    padding: 2px;
                    background-color: var(--module-warning);
                }'};

            }
        </style>

        <etools-content-panel panel-title="{{riskData.header}}" class="overal-risks">

            <div class="repeatable-item-content">
                <div class="row-h group">
                    <div class="input-container">
                        <!-- Risk Assessment -->

                        <etools-searchable-multiselection-menu
                                id="riskAssessmentInput"
                                class="validate-input disabled-as-readonly required"
                                options="[[riskOptions]]"
                                required hide-search
                                readonly="[[isReadOnly('test_subject_areas', basePermissionPath)]]"
                                disabled="[[isReadOnly('test_subject_areas', basePermissionPath)]]"
                                value="{{primaryArea.risk.value}}"
                                invalid="{{errors.children.0.blueprints.0.risk.value}}"
                                error-message="{{errors.children.0.blueprints.0.risk.value}}"
                                on-focus="_resetFieldError"
                                label="Risk Assessment"
                                placeholder="Select Risk Assessment"></etools-searchable-multiselection-menu>
                    </div>
                </div>

                <div class="row-h group">
                    <div class="input-container input-container-l">
                        <!-- Brief Justification -->
                        <paper-textarea label="Brief Justification for Rating (main internal control gaps)"
                                        required
                                        invalid="{{errors.children.0.blueprints.0.risk.extra}}"
                                        error-message="{{errors.children.0.blueprints.0.risk.extra}}"
                                        max-rows="4"
                                        id="briefJustification"
                                        class="disabled-as-readonly validate-input required"
                                        value="{{primaryArea.risk.extra.comments}}"
                                        disabled="[[isReadOnly('test_subject_areas', basePermissionPath)]]"
                                        on-focus="_resetFieldError"
                                        placeholder="Enter Brief Justification">
                        </paper-textarea>
                    </div>
                </div>

            </div>

        </etools-content-panel>

    </template>

    <!-- inject scripts './primary-risk-element.js'-->
</dom-module>