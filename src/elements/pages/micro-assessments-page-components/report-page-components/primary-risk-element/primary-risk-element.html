<!--import [polymer, etools-content-panel, etools-searchable-multiselection-menu, paper-input/paper-textarea, lodash]-->
<!--import [textarea-max-rows-behavior, common-methods-behavior, static-data-behavior, permission-controller]-->

<dom-module id="primary-risk-element">
    <template>
        <style include="tab-inputs-styles module-styles">
            etools-content-panel.overal-risks {
                margin: 20px 0;

                --ecp-header-title: #{'{
                    font-weight: 500;
                    line-height: 51px;
                }'};

                --epc-toolbar: #{'{
                    height: 51px;
                    padding: 2px;
                    background-color: var(--module-warning);
                }'};

            }
        </style>

        <etools-content-panel panel-title="{{riskData.header}}" class="overal-risks">
            <div class="repeatable-item-content">
                <div class="row-h group">
                    <div class="input-container">
                        <!-- Risk Assessment -->
                        <etools-searchable-multiselection-menu
                                id="riskAssessmentInput"
                                class="validate-input disabled-as-readonly required"
                                value="{{primaryArea.risk.value}}"
                                label="Risk Assessment"
                                placeholder="Select Risk Assessment"
                                options="[[riskOptions]]"
                                custom-object-options
                                option-label="display_name"
                                option-value="display_name"
                                required
                                disabled="[[isReadOnly('test_subject_areas', basePermissionPath)]]"
                                readonly="[[isReadOnly('test_subject_areas', basePermissionPath)]]"
                                invalid="{{errors.children.0.blueprints.0.risk.value}}"
                                error-message="{{errors.children.0.blueprints.0.risk.value}}"
                                on-focus="_resetFieldError"
                                on-tap="_resetFieldError"
                                hide-search
                                no-title-attr>
                        </etools-searchable-multiselection-menu>
                    </div>
                </div>

                <div class="row-h group">
                    <div class="input-container input-container-l">
                        <!-- Brief Justification -->
                        <paper-textarea
                                id="briefJustification"
                                class="disabled-as-readonly validate-input required"
                                value="{{primaryArea.risk.extra.comments}}"
                                label="Brief Justification for Rating (main internal control gaps)"
                                placeholder="Enter Brief Justification"
                                required
                                disabled="[[isReadOnly('test_subject_areas', basePermissionPath)]]"
                                max-rows="4"
                                invalid="{{errors.children.0.blueprints.0.risk.extra}}"
                                error-message="{{errors.children.0.blueprints.0.risk.extra}}"
                                on-focus="_resetFieldError"
                                on-tap="_resetFieldError">
                        </paper-textarea>
                    </div>
                </div>
            </div>
        </etools-content-panel>
    </template>

    <!-- inject scripts './primary-risk-element.js'-->
</dom-module>
